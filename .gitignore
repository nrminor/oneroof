# Everything is ignored by default so that exceptions can be added as the arise. This
# prevents anything from being committed unless it was done so deliberately
*

# open-source table stakes: a readme, a license, and a gitignore
!README.md
!LICENSE
!.gitignore

# further git configuration, including a gitattributes and some pre-commit hooks
!.gitattributes
!.pre-commit-config.yaml

# dependency versions for the whole dev environment (flake.nix), Python (pyproject.toml),
# and the Deno Javascript runtime. A OCI-compliant Containerfile with this environment
# is also provided.
!flake.nix
!pyproject.toml
!pixi.lock
!uv.lock
!Containerfile

# project setup (.envrc for launching a development shell with the nix flake) and project
# shorthands to be explored by running `just`
!.envrc
!justfile

# quarto project setup for generating the docsite
!_quarto.yml

# data asset management with refman
!refman.toml

# Nextflow workflow entrypoint, configuration, and testing configuration
!main.nf
!nextflow.config

# github action workflows
!/.github
!/.github/workflows
!/.github/workflows/*.yml
!/.github/workflows/*.yaml

# nextflow workflows
!/workflows
!/workflows/*.nf

# nextflow subworkflows
!/subworkflows
!/subworkflows/*.nf

# nextflow modules
!/modules
!/modules/*.nf

# nextflow configuration
!/conf
!/conf/illumina_tests
!/conf/nanopore_tests
!/conf/illumina_tests/*.config
!/conf/nanopore_tests/*.config
!/conf/*.config
!/conf/*.yml
!/conf/*.yaml

# bin of executable scripts. Scripts written in Python, Rust (rust-scripts), Typescript
# (which can be executed natively by Deno and Bun now), Javascript, R, Perl, Lua, shell,
# and Awk are currently allowed.
!/bin/
!/bin/*.py
!/bin/*.rs
!/bin/*.ers
!/bin/*.ts
!/bin/*.js
!/bin/*.R
!/bin/*.r
!/bin/*.pl
!/bin/*.lua
!/bin/*.sh
!/bin/*.awk
!/bin/README.md



# assets (templates, configs)
!/assets/
!/assets/*.yaml
!/assets/*.yml

# Rust development files for IDE support
!/Cargo.toml
!/Cargo.lock

# lib directory: groovy utilities and Python packages
!/lib
!/lib/*.groovy
!/lib/*.py

# oneroof CLI package (Typer-based CLI wrapper)
!/lib/oneroof_cli/
!/lib/oneroof_cli/*.py
!/lib/oneroof_cli/commands/
!/lib/oneroof_cli/commands/*.py

# reporting package (metrics extraction, visualization, report assembly)
!/lib/reporting/
!/lib/reporting/*.py
!/lib/reporting/extractors/
!/lib/reporting/extractors/*.py
!/lib/reporting/visualizations/
!/lib/reporting/visualizations/*.py

# documentation
!/docs
!/docs/*.qmd
!/docs/*.md
!/docs/*.css
!/docs/*.lua
!/docs/*.py

# globus adapter
!/globus
!/globus/.gitignore
!/globus/README.md
!/globus/action_provider
!/globus/action_provider/oneroof_action_provider.py
!/globus/action_provider/requirements.txt
!/globus/config
!/globus/config/.env.template
!/globus/config/*.json
!/globus/flows
!/globus/flows/*.json
!/globus/scripts
!/globus/scripts/*.sh
!/globus/scripts/*.py

# JSON report schemas
!/schemas
!/schemas/current
!/schemas/v*
!/schemas/v*/*.json
!/schemas/v*/*.md

# testing
!/tests
!/tests/data
!/tests/data/*.fast*
!/tests/data/*.bed
!/tests/data/*.bam*
!/tests/data/*.gbk
!/tests/data/illumina_bad_reads
!/tests/data/illumina_meta_reads
!/tests/data/illumina_reads
!/tests/data/nanopore_reads
!/tests/data/illumina_bad_reads/*.fast*
!/tests/data/illumina_reads/*.fast*
!/tests/data/nanopore_reads/*.bam*
